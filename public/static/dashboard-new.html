<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>대시보드 - 아로마펄스</title>
    <link rel="icon" type="image/png" href="/static/favicon.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .animated-gradient {
            background: linear-gradient(-45deg, #667eea, #764ba2, #f093fb, #4facfe);
            background-size: 400% 400%;
            animation: gradient 15s ease infinite;
        }
        
        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .card-hover {
            transition: all 0.3s ease;
        }
        
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }
        
        .profile-image-container {
            position: relative;
            width: 150px;
            height: 150px;
            margin: 0 auto;
        }
        
        .profile-image {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            object-fit: cover;
            border: 5px solid white;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        
        .profile-image-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.6);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
            cursor: pointer;
        }
        
        .profile-image-container:hover .profile-image-overlay {
            opacity: 1;
        }
        
        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            transition: all 0.3s ease;
        }
        
        .stat-card:hover {
            transform: scale(1.05);
        }
        
        .editable-field {
            transition: all 0.3s ease;
            border: 2px solid transparent;
            padding: 8px;
            border-radius: 8px;
        }
        
        .editable-field:hover {
            background: #f3f4f6;
            cursor: text;
        }
        
        .editable-field.editing {
            border-color: #667eea;
            background: white;
        }
        
        .fade-in {
            animation: fadeIn 0.6s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.6);
            backdrop-filter: blur(5px);
        }
        
        .modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 20px;
            max-width: 500px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            animation: slideUp 0.3s ease;
        }
        
        @keyframes slideUp {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 min-h-screen">
    <!-- Header -->
    <header class="bg-white/95 backdrop-blur-sm shadow-lg sticky top-0 z-50">
        <nav class="container mx-auto px-4 py-4">
            <div class="flex items-center justify-between">
                <a href="/" class="flex items-center space-x-3">
                    <img src="/static/logo-light.png" alt="아로마펄스" class="h-14">
                    <span class="text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent">아로마펄스</span>
                </a>
                
                <div class="flex items-center space-x-6">
                    <a href="/shop" class="text-gray-700 hover:text-purple-600 transition font-semibold">
                        <i class="fas fa-shopping-bag mr-2"></i>쇼핑
                    </a>
                    <span id="header-user-name" class="text-gray-700 font-semibold"></span>
                    <button onclick="logout()" class="bg-gradient-to-r from-red-500 to-pink-500 text-white px-6 py-2 rounded-full hover:shadow-lg transition">
                        <i class="fas fa-sign-out-alt mr-2"></i>로그아웃
                    </button>
                </div>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <div class="container mx-auto px-4 py-8">
        <!-- Loading State -->
        <div id="loading" class="text-center py-20">
            <div class="inline-block animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-purple-600 mb-4"></div>
            <p class="text-gray-600 text-lg">대시보드를 불러오는 중...</p>
        </div>

        <!-- B2C Dashboard -->
        <div id="b2c-dashboard" class="hidden fade-in">
            <!-- Welcome Banner -->
            <div class="animated-gradient rounded-3xl shadow-2xl p-8 mb-8 text-white">
                <div class="flex items-center justify-between flex-wrap">
                    <div>
                        <h1 class="text-4xl font-bold mb-2">
                            <i class="fas fa-sparkles mr-2"></i>안녕하세요, <span id="welcome-name"></span>님!
                        </h1>
                        <p class="text-xl opacity-90">오늘도 향기로운 하루 되세요 ✨</p>
                    </div>
                    <div class="mt-4 md:mt-0">
                        <button onclick="openEditProfileModal()" class="bg-white text-purple-600 px-6 py-3 rounded-full font-bold hover:bg-gray-100 transition shadow-lg">
                            <i class="fas fa-user-edit mr-2"></i>프로필 편집
                        </button>
                    </div>
                </div>
            </div>

            <div class="grid lg:grid-cols-3 gap-8">
                <!-- Left Column: Profile -->
                <div class="lg:col-span-1">
                    <!-- Profile Card -->
                    <div class="bg-white rounded-3xl shadow-xl p-8 card-hover mb-6">
                        <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">
                            <i class="fas fa-user-circle text-purple-600 mr-2"></i>내 프로필
                        </h2>
                        
                        <!-- Profile Image -->
                        <div class="profile-image-container mb-6">
                            <img id="profile-image" src="" alt="프로필" class="profile-image hidden">
                            <div id="profile-placeholder" class="profile-image bg-gradient-to-br from-purple-400 to-pink-400 flex items-center justify-center text-white text-5xl font-bold">
                                A
                            </div>
                            <div class="profile-image-overlay" onclick="openImageUploadModal()">
                                <i class="fas fa-camera text-white text-2xl"></i>
                            </div>
                        </div>

                        <!-- User Info -->
                        <div class="text-center mb-6">
                            <h3 class="text-2xl font-bold text-gray-800 mb-1" id="profile-name"></h3>
                            <p class="text-gray-600 mb-2" id="profile-email"></p>
                            <span class="inline-block bg-purple-100 text-purple-700 px-4 py-1 rounded-full text-sm font-semibold" id="profile-badge">
                                일반 회원
                            </span>
                        </div>

                        <!-- Quick Stats -->
                        <div class="grid grid-cols-2 gap-4 mb-6">
                            <div class="text-center p-4 bg-purple-50 rounded-2xl">
                                <i class="fas fa-shopping-cart text-purple-600 text-2xl mb-2"></i>
                                <p class="text-2xl font-bold text-gray-800" id="order-count">0</p>
                                <p class="text-sm text-gray-600">주문</p>
                            </div>
                            <div class="text-center p-4 bg-pink-50 rounded-2xl">
                                <i class="fas fa-star text-pink-600 text-2xl mb-2"></i>
                                <p class="text-2xl font-bold text-gray-800" id="review-count">0</p>
                                <p class="text-sm text-gray-600">리뷰</p>
                            </div>
                        </div>

                        <!-- Quick Actions -->
                        <div class="space-y-3">
                            <button onclick="location.href='/shop'" class="w-full bg-gradient-to-r from-purple-500 to-pink-500 text-white py-3 rounded-xl hover:shadow-lg transition font-semibold">
                                <i class="fas fa-shopping-bag mr-2"></i>쇼핑하기
                            </button>
                            <button onclick="openEditProfileModal()" class="w-full bg-gray-100 text-gray-700 py-3 rounded-xl hover:bg-gray-200 transition font-semibold">
                                <i class="fas fa-cog mr-2"></i>설정
                            </button>
                        </div>
                    </div>

                    <!-- Member Info Card -->
                    <div class="bg-white rounded-3xl shadow-xl p-6 card-hover">
                        <h3 class="text-lg font-bold text-gray-800 mb-4">
                            <i class="fas fa-info-circle text-purple-600 mr-2"></i>회원 정보
                        </h3>
                        <div class="space-y-3 text-sm">
                            <div class="flex justify-between py-2 border-b">
                                <span class="text-gray-600">가입일</span>
                                <span class="font-semibold" id="member-since">-</span>
                            </div>
                            <div class="flex justify-between py-2 border-b">
                                <span class="text-gray-600">지역</span>
                                <span class="font-semibold" id="member-region">-</span>
                            </div>
                            <div class="flex justify-between py-2 border-b">
                                <span class="text-gray-600">연령대</span>
                                <span class="font-semibold" id="member-age">-</span>
                            </div>
                            <div class="flex justify-between py-2">
                                <span class="text-gray-600">관심 증상</span>
                                <span class="font-semibold" id="member-symptoms">-</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Right Column: Activity & Stats -->
                <div class="lg:col-span-2">
                    <!-- Quick Stats Cards -->
                    <div class="grid md:grid-cols-3 gap-6 mb-8">
                        <div class="stat-card rounded-3xl shadow-xl p-6 text-white card-hover">
                            <i class="fas fa-heart text-4xl mb-4 opacity-80"></i>
                            <h3 class="text-lg font-semibold mb-2 opacity-90">찜한 제품</h3>
                            <p class="text-4xl font-bold" id="wishlist-count">0</p>
                        </div>
                        <div class="bg-gradient-to-br from-pink-500 to-rose-500 rounded-3xl shadow-xl p-6 text-white card-hover">
                            <i class="fas fa-box text-4xl mb-4 opacity-80"></i>
                            <h3 class="text-lg font-semibold mb-2 opacity-90">진행중 주문</h3>
                            <p class="text-4xl font-bold" id="active-order-count">0</p>
                        </div>
                        <div class="bg-gradient-to-br from-orange-500 to-amber-500 rounded-3xl shadow-xl p-6 text-white card-hover">
                            <i class="fas fa-coins text-4xl mb-4 opacity-80"></i>
                            <h3 class="text-lg font-semibold mb-2 opacity-90">적립금</h3>
                            <p class="text-4xl font-bold">0원</p>
                        </div>
                    </div>

                    <!-- Recent Orders -->
                    <div class="bg-white rounded-3xl shadow-xl p-8 mb-8 card-hover">
                        <div class="flex items-center justify-between mb-6">
                            <h2 class="text-2xl font-bold text-gray-800">
                                <i class="fas fa-shopping-bag text-purple-600 mr-2"></i>최근 주문
                            </h2>
                            <a href="/my-orders" class="text-purple-600 hover:text-purple-700 font-semibold">
                                전체보기 <i class="fas fa-arrow-right ml-1"></i>
                            </a>
                        </div>
                        <div id="recent-orders">
                            <div class="text-center py-12 text-gray-500">
                                <i class="fas fa-shopping-cart text-6xl mb-4 opacity-20"></i>
                                <p class="text-lg">주문 내역이 없습니다</p>
                                <button onclick="location.href='/shop'" class="mt-4 text-purple-600 hover:text-purple-700 font-semibold">
                                    쇼핑하러 가기 →
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Activity Stats -->
                    <div class="bg-white rounded-3xl shadow-xl p-8 card-hover">
                        <h2 class="text-2xl font-bold text-gray-800 mb-6">
                            <i class="fas fa-chart-line text-purple-600 mr-2"></i>활동 통계
                        </h2>
                        <div class="grid md:grid-cols-4 gap-4">
                            <div class="text-center p-6 bg-purple-50 rounded-2xl">
                                <i class="fas fa-eye text-purple-600 text-3xl mb-3"></i>
                                <p class="text-3xl font-bold text-gray-800">0</p>
                                <p class="text-sm text-gray-600 mt-1">제품 조회</p>
                            </div>
                            <div class="text-center p-6 bg-pink-50 rounded-2xl">
                                <i class="fas fa-search text-pink-600 text-3xl mb-3"></i>
                                <p class="text-3xl font-bold text-gray-800">0</p>
                                <p class="text-sm text-gray-600 mt-1">검색</p>
                            </div>
                            <div class="text-center p-6 bg-blue-50 rounded-2xl">
                                <i class="fas fa-mouse-pointer text-blue-600 text-3xl mb-3"></i>
                                <p class="text-3xl font-bold text-gray-800">0</p>
                                <p class="text-sm text-gray-600 mt-1">클릭</p>
                            </div>
                            <div class="text-center p-6 bg-green-50 rounded-2xl">
                                <i class="fas fa-calendar text-green-600 text-3xl mb-3"></i>
                                <p class="text-3xl font-bold text-gray-800">0</p>
                                <p class="text-sm text-gray-600 mt-1">방문일</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- B2B Dashboard -->
        <div id="b2b-dashboard" class="hidden fade-in">
            <!-- Welcome Banner -->
            <div class="bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 rounded-3xl shadow-2xl p-8 mb-8 text-white">
                <div class="flex items-center justify-between flex-wrap">
                    <div>
                        <h1 class="text-4xl font-bold mb-2">
                            <i class="fas fa-building mr-2"></i><span id="b2b-welcome-name"></span>
                        </h1>
                        <p class="text-xl opacity-90">비즈니스 파트너십 관리 대시보드</p>
                    </div>
                    <div class="mt-4 md:mt-0">
                        <button onclick="openB2BEditModal()" class="bg-white text-blue-600 px-6 py-3 rounded-full font-bold hover:bg-gray-100 transition shadow-lg">
                            <i class="fas fa-user-edit mr-2"></i>프로필 편집
                        </button>
                    </div>
                </div>
            </div>

            <div class="grid lg:grid-cols-3 gap-8">
                <!-- Left Column: B2B Profile -->
                <div class="lg:col-span-1">
                    <!-- B2B Profile Card -->
                    <div class="bg-white rounded-3xl shadow-xl p-8 card-hover mb-6">
                        <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">
                            <i class="fas fa-building text-blue-600 mr-2"></i>비즈니스 정보
                        </h2>
                        
                        <!-- B2B Profile Image -->
                        <div class="profile-image-container mb-6">
                            <img id="b2b-profile-image" src="" alt="프로필" class="profile-image hidden">
                            <div id="b2b-profile-placeholder" class="profile-image bg-gradient-to-br from-blue-400 to-indigo-400 flex items-center justify-center text-white text-5xl font-bold">
                                B
                            </div>
                            <div class="profile-image-overlay" onclick="openB2BImageUploadModal()">
                                <i class="fas fa-camera text-white text-2xl"></i>
                            </div>
                        </div>

                        <!-- B2B Info -->
                        <div class="text-center mb-6">
                            <h3 class="text-2xl font-bold text-gray-800 mb-1" id="b2b-business-name"></h3>
                            <p class="text-gray-600 mb-2" id="b2b-email"></p>
                            <span class="inline-block bg-blue-100 text-blue-700 px-4 py-1 rounded-full text-sm font-semibold" id="b2b-badge">
                                비즈니스 회원
                            </span>
                        </div>

                        <!-- Quick Actions -->
                        <div class="space-y-3">
                            <button onclick="location.href='/shop'" class="w-full bg-gradient-to-r from-blue-500 to-indigo-500 text-white py-3 rounded-xl hover:shadow-lg transition font-semibold">
                                <i class="fas fa-shopping-bag mr-2"></i>제품 구매
                            </button>
                            <button onclick="window.open('https://blog.naver.com/aromapulse')" class="w-full bg-gray-100 text-gray-700 py-3 rounded-xl hover:bg-gray-200 transition font-semibold">
                                <i class="fas fa-handshake mr-2"></i>파트너십 문의
                            </button>
                            <button onclick="openB2BEditModal()" class="w-full bg-gray-100 text-gray-700 py-3 rounded-xl hover:bg-gray-200 transition font-semibold">
                                <i class="fas fa-cog mr-2"></i>설정
                            </button>
                        </div>
                    </div>

                    <!-- Business Info Card -->
                    <div class="bg-white rounded-3xl shadow-xl p-6 card-hover">
                        <h3 class="text-lg font-bold text-gray-800 mb-4">
                            <i class="fas fa-info-circle text-blue-600 mr-2"></i>사업자 정보
                        </h3>
                        <div class="space-y-3 text-sm">
                            <div class="flex justify-between py-2 border-b">
                                <span class="text-gray-600">가입일</span>
                                <span class="font-semibold" id="b2b-member-since">-</span>
                            </div>
                            <div class="flex justify-between py-2 border-b">
                                <span class="text-gray-600">비즈니스 유형</span>
                                <span class="font-semibold" id="b2b-type">-</span>
                            </div>
                            <div class="flex justify-between py-2 border-b">
                                <span class="text-gray-600">담당자</span>
                                <span class="font-semibold" id="b2b-contact-name">-</span>
                            </div>
                            <div class="flex justify-between py-2">
                                <span class="text-gray-600">연락처</span>
                                <span class="font-semibold" id="b2b-phone">-</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Right Column: B2B Activity -->
                <div class="lg:col-span-2">
                    <!-- B2B Stats Cards -->
                    <div class="grid md:grid-cols-3 gap-6 mb-8">
                        <div class="bg-gradient-to-br from-blue-500 to-indigo-500 rounded-3xl shadow-xl p-6 text-white card-hover">
                            <i class="fas fa-boxes text-4xl mb-4 opacity-80"></i>
                            <h3 class="text-lg font-semibold mb-2 opacity-90">주문 내역</h3>
                            <p class="text-4xl font-bold" id="b2b-order-count">0</p>
                        </div>
                        <div class="bg-gradient-to-br from-purple-500 to-pink-500 rounded-3xl shadow-xl p-6 text-white card-hover">
                            <i class="fas fa-handshake text-4xl mb-4 opacity-80"></i>
                            <h3 class="text-lg font-semibold mb-2 opacity-90">진행중 문의</h3>
                            <p class="text-4xl font-bold">0</p>
                        </div>
                        <div class="bg-gradient-to-br from-green-500 to-teal-500 rounded-3xl shadow-xl p-6 text-white card-hover">
                            <i class="fas fa-chart-line text-4xl mb-4 opacity-80"></i>
                            <h3 class="text-lg font-semibold mb-2 opacity-90">파트너십</h3>
                            <p class="text-4xl font-bold">활성</p>
                        </div>
                    </div>

                    <!-- Partnership Info -->
                    <div class="bg-white rounded-3xl shadow-xl p-8 mb-8 card-hover">
                        <h2 class="text-2xl font-bold text-gray-800 mb-6">
                            <i class="fas fa-spa text-blue-600 mr-2"></i>파트너십 안내
                        </h2>
                        <div class="grid md:grid-cols-3 gap-6">
                            <div class="text-center p-6 bg-blue-50 rounded-2xl">
                                <i class="fas fa-users text-blue-600 text-4xl mb-4"></i>
                                <h3 class="font-bold text-gray-800 mb-2">워크샵 & 클래스</h3>
                                <p class="text-sm text-gray-600">향기 테라피 워크샵 제휴 및 클래스 운영</p>
                            </div>
                            <div class="text-center p-6 bg-indigo-50 rounded-2xl">
                                <i class="fas fa-truck text-indigo-600 text-4xl mb-4"></i>
                                <h3 class="font-bold text-gray-800 mb-2">대량 납품</h3>
                                <p class="text-sm text-gray-600">기업 및 매장 대량 제품 공급</p>
                            </div>
                            <div class="text-center p-6 bg-purple-50 rounded-2xl">
                                <i class="fas fa-lightbulb text-purple-600 text-4xl mb-4"></i>
                                <h3 class="font-bold text-gray-800 mb-2">협업 제안</h3>
                                <p class="text-sm text-gray-600">브랜드 콜라보레이션 및 파트너십</p>
                            </div>
                        </div>
                    </div>

                    <!-- B2B Recent Activity -->
                    <div class="bg-white rounded-3xl shadow-xl p-8 card-hover">
                        <div class="flex items-center justify-between mb-6">
                            <h2 class="text-2xl font-bold text-gray-800">
                                <i class="fas fa-clock text-blue-600 mr-2"></i>최근 활동
                            </h2>
                        </div>
                        <div class="text-center py-12 text-gray-500">
                            <i class="fas fa-inbox text-6xl mb-4 opacity-20"></i>
                            <p class="text-lg mb-4">최근 활동 내역이 없습니다</p>
                            <button onclick="window.open('https://blog.naver.com/aromapulse')" class="bg-gradient-to-r from-blue-500 to-indigo-500 text-white px-6 py-3 rounded-full hover:shadow-lg transition font-semibold">
                                <i class="fas fa-robot mr-2"></i>AI 상담 시작하기
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Profile Edit Modal -->
    <div id="edit-profile-modal" class="modal">
        <div class="modal-content">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-2xl font-bold text-gray-800">
                    <i class="fas fa-user-edit text-purple-600 mr-2"></i>프로필 편집
                </h2>
                <button onclick="closeEditProfileModal()" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times text-2xl"></i>
                </button>
            </div>

            <form id="edit-profile-form" class="space-y-5">
                <div>
                    <label class="block text-sm font-bold text-gray-700 mb-2">
                        <i class="fas fa-user mr-2 text-purple-600"></i>이름
                    </label>
                    <input type="text" id="edit-name" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition" placeholder="이름을 입력하세요">
                </div>

                <div>
                    <label class="block text-sm font-bold text-gray-700 mb-2">
                        <i class="fas fa-phone mr-2 text-purple-600"></i>연락처
                    </label>
                    <input type="tel" id="edit-phone" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition" placeholder="010-1234-5678">
                </div>

                <div>
                    <label class="block text-sm font-bold text-gray-700 mb-2">
                        <i class="fas fa-map-marker-alt mr-2 text-purple-600"></i>지역
                    </label>
                    <select id="edit-region" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition">
                        <option value="">선택하세요</option>
                        <option value="서울">서울</option>
                        <option value="경기">경기</option>
                        <option value="인천">인천</option>
                        <option value="부산">부산</option>
                        <option value="대구">대구</option>
                        <option value="대전">대전</option>
                        <option value="광주">광주</option>
                        <option value="울산">울산</option>
                        <option value="세종">세종</option>
                        <option value="강원">강원</option>
                        <option value="충북">충북</option>
                        <option value="충남">충남</option>
                        <option value="전북">전북</option>
                        <option value="전남">전남</option>
                        <option value="경북">경북</option>
                        <option value="경남">경남</option>
                        <option value="제주">제주</option>
                    </select>
                </div>

                <div>
                    <label class="block text-sm font-bold text-gray-700 mb-2">
                        <i class="fas fa-birthday-cake mr-2 text-purple-600"></i>연령대
                    </label>
                    <select id="edit-age-group" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition">
                        <option value="">선택하세요</option>
                        <option value="10s">10대</option>
                        <option value="20s">20대</option>
                        <option value="30s">30대</option>
                        <option value="40s">40대</option>
                        <option value="50s">50대</option>
                        <option value="60s_plus">60대 이상</option>
                    </select>
                </div>

                <div class="flex gap-4 mt-8">
                    <button type="button" onclick="closeEditProfileModal()" class="flex-1 bg-gray-200 text-gray-700 py-3 rounded-xl hover:bg-gray-300 transition font-semibold">
                        취소
                    </button>
                    <button type="submit" class="flex-1 bg-gradient-to-r from-purple-500 to-pink-500 text-white py-3 rounded-xl hover:shadow-lg transition font-semibold">
                        <i class="fas fa-save mr-2"></i>저장
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Image Upload Modal -->
    <div id="image-upload-modal" class="modal">
        <div class="modal-content">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-2xl font-bold text-gray-800">
                    <i class="fas fa-camera text-purple-600 mr-2"></i>프로필 이미지 변경
                </h2>
                <button onclick="closeImageUploadModal()" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times text-2xl"></i>
                </button>
            </div>

            <div class="space-y-6">
                <!-- Image Preview -->
                <div class="text-center">
                    <div id="image-preview-container" class="inline-block">
                        <img id="image-preview" src="" alt="미리보기" class="w-48 h-48 rounded-full object-cover border-4 border-purple-200 hidden">
                        <div id="image-preview-placeholder" class="w-48 h-48 rounded-full bg-gradient-to-br from-purple-200 to-pink-200 flex items-center justify-center text-gray-400 text-6xl">
                            <i class="fas fa-user"></i>
                        </div>
                    </div>
                </div>

                <!-- Upload Button -->
                <div class="text-center">
                    <label for="profile-image-input" class="inline-block cursor-pointer bg-gradient-to-r from-purple-500 to-pink-500 text-white px-6 py-3 rounded-xl hover:shadow-lg transition font-semibold">
                        <i class="fas fa-upload mr-2"></i>이미지 선택
                    </label>
                    <input type="file" id="profile-image-input" accept="image/*" class="hidden" onchange="previewImage(event)">
                    <p class="text-sm text-gray-500 mt-3">JPG, PNG 형식 (최대 5MB)</p>
                </div>

                <!-- Action Buttons -->
                <div class="flex gap-4">
                    <button type="button" onclick="closeImageUploadModal()" class="flex-1 bg-gray-200 text-gray-700 py-3 rounded-xl hover:bg-gray-300 transition font-semibold">
                        취소
                    </button>
                    <button type="button" onclick="uploadProfileImage()" class="flex-1 bg-gradient-to-r from-purple-500 to-pink-500 text-white py-3 rounded-xl hover:shadow-lg transition font-semibold">
                        <i class="fas fa-check mr-2"></i>업로드
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="/static/dashboard-new.js"></script>
    <!-- 사이드톡 AI 챗봇 -->
    <script src="https://pages.sidetalk.ai/sidetalk.js"></script>
    <script>
    SidetalkAI('init', {
        siteKey: '2836b61bcbfd435c0e1a407bf6ce71885c532aba4c648de494338d3942f565c1',
        buttonText: 'AI 상담',
        buttonBottom: '20px',
        buttonRight: '20px'
    });
    </script>
</body>
</html>
