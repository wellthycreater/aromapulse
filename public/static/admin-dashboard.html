<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>아로마펄스 관리자 대시보드</title>
    <!-- Updated: 2025-01-19 - Class Modal Fixed -->
    <link rel="icon" type="image/png" href="/static/favicon.png">
    
    <script>
        // 페이지 로드 전 즉시 토큰 확인 (무한 리다이렉트 방지)
        console.log('=== Admin Dashboard Pre-Auth Check ===');
        const token = localStorage.getItem('adminToken') || 
                      localStorage.getItem('admin_token') || 
                      localStorage.getItem('auth_token') || 
                      localStorage.getItem('token');
        console.log('Token exists:', !!token);
        console.log('Token value:', token ? token.substring(0, 20) + '...' : 'null');
        
        if (!token) {
            console.log('No token found, redirecting to login...');
            alert('로그인이 필요합니다.');
            window.location.replace('/admin-login');
            // Prevent page from loading
            document.documentElement.innerHTML = '<body style="margin:0;padding:20px;font-family:sans-serif;">Redirecting to login...</body>';
            throw new Error('No auth token');
        } else {
            console.log('Token found, proceeding to load dashboard');
        }
    </script>
    
    <!-- External Libraries -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    
    <style>
        /* Custom Colors - Purple Gradient Theme (matching main site) */
        :root {
            --primary-purple: #667eea;
            --secondary-purple: #764ba2;
            --accent-pink: #f093fb;
            --purple-600: #9333ea;
            --pink-600: #db2777;
            --dark-slate: #1e293b;
            --medium-gray: #64748b;
            --light-gray: #f1f5f9;
        }
        
        /* Hero Gradient (matching main site) */
        .hero-gradient {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
        }
        
        /* Glass Effect */
        .glass-effect {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
        }
        
        /* Utility Classes */
        .bg-primary-purple { background-color: var(--primary-purple); }
        .bg-secondary-purple { background-color: var(--secondary-purple); }
        .bg-accent-pink { background-color: var(--accent-pink); }
        .text-primary-purple { color: var(--primary-purple); }
        .text-secondary-purple { color: var(--secondary-purple); }
        .text-accent-pink { color: var(--accent-pink); }
        .border-primary-purple { border-color: var(--primary-purple); }
        .hover\:bg-primary-purple:hover { background-color: var(--primary-purple); }
        .hover\:bg-secondary-purple:hover { background-color: var(--secondary-purple); }
        
        /* Tab Styling */
        .tab-button {
            transition: all 0.3s ease;
            position: relative;
        }
        .tab-button.active {
            background: linear-gradient(135deg, var(--primary-purple), var(--secondary-purple));
            color: white;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }
        .tab-button:hover:not(.active) {
            background-color: rgba(102, 126, 234, 0.1);
            color: var(--primary-purple);
        }
        
        /* Sub-tab Styling */
        .sub-tab-button {
            transition: all 0.3s ease;
        }
        .sub-tab-button.active {
            background: linear-gradient(135deg, var(--secondary-purple), var(--accent-pink));
            color: white;
            box-shadow: 0 4px 15px rgba(240, 147, 251, 0.3);
        }
        .sub-tab-button:hover:not(.active) {
            background-color: rgba(240, 147, 251, 0.1);
            color: var(--accent-pink);
        }
        
        /* Animations */
        .fade-in {
            animation: fadeIn 0.3s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Hover Effects */
        .hover-lift {
            transition: all 0.3s ease;
        }
        .hover-lift:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.2);
        }
        
        /* Card Hover */
        .card-hover {
            transition: all 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: var(--light-gray);
        }
        ::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, var(--primary-purple), var(--secondary-purple));
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, var(--secondary-purple), var(--accent-pink));
        }
        
        /* Modal Backdrop */
        .modal-backdrop {
            background-color: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(4px);
        }
        
        /* Card Hover Effect */
        .hover-lift {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .hover-lift:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15);
        }
        
        /* Status Badge */
        .status-badge {
            display: inline-flex;
            align-items: center;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.875rem;
            font-weight: 600;
        }
        
        .status-active {
            background-color: #DEF7EC;
            color: #03543F;
        }
        
        .status-inactive {
            background-color: #FDE8E8;
            color: #9B1C1C;
        }
        
        /* Button Styles (matching main site) */
        .btn-gradient {
            background: linear-gradient(to right, var(--primary-purple), var(--accent-pink));
            color: white;
            border-radius: 9999px;
            padding: 0.625rem 1.5rem;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }
        .btn-gradient:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }
        
        /* Enhanced Card Shadows */
        .card-enhanced {
            box-shadow: 0 10px 30px -10px rgba(102, 126, 234, 0.15);
            border-radius: 1rem;
            transition: all 0.3s ease;
        }
        .card-enhanced:hover {
            box-shadow: 0 15px 40px -10px rgba(102, 126, 234, 0.25);
            transform: translateY(-2px);
        }
    </style>
</head>
<body class="min-h-screen" style="background: linear-gradient(to bottom, #faf5ff 0%, #f5f3ff 50%, #fdf4ff 100%);">
    
    <!-- Header with Gradient -->
    <header class="glass-effect shadow-lg sticky top-0 z-50">
        <nav class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <img src="/static/logo-light.png" alt="아로마펄스" class="h-14 transition-all hover:scale-105">
                    <div>
                        <h1 class="text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent">
                            <i class="fas fa-spa mr-2 text-purple-600"></i>
                            관리자 대시보드
                        </h1>
                        <p class="text-xs text-gray-500 mt-1">AromaPulse Admin Dashboard</p>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <div class="flex items-center gap-2 bg-gradient-to-r from-purple-50 to-pink-50 rounded-full px-4 py-2">
                        <i class="fas fa-user-shield text-purple-600"></i>
                        <span id="admin-name" class="text-sm font-semibold text-gray-700">관리자</span>
                    </div>
                    <button onclick="logout()" class="bg-gradient-to-r from-red-500 to-red-600 text-white px-4 py-2 rounded-full hover:shadow-lg transition transform hover:scale-105 font-semibold">
                        <i class="fas fa-sign-out-alt mr-2"></i>로그아웃
                    </button>
                </div>
            </div>
        </nav>
    </header>

    <!-- Main Navigation Tabs -->
    <div class="bg-white border-b shadow-sm">
        <div class="container mx-auto px-6">
            <div class="flex space-x-2 overflow-x-auto">
                <button onclick="switchMainTab('dashboard')" 
                    class="tab-button px-6 py-4 font-semibold whitespace-nowrap rounded-t-lg active" 
                    data-tab="dashboard">
                    <i class="fas fa-chart-line mr-2"></i>대시보드
                </button>
                <button onclick="switchMainTab('users')" 
                    class="tab-button px-6 py-4 font-semibold whitespace-nowrap rounded-t-lg" 
                    data-tab="users">
                    <i class="fas fa-users mr-2"></i>회원 관리
                </button>
                <button onclick="switchMainTab('products')" 
                    class="tab-button px-6 py-4 font-semibold whitespace-nowrap rounded-t-lg" 
                    data-tab="products">
                    <i class="fas fa-box mr-2"></i>제품 관리
                </button>
                <button onclick="switchMainTab('blog')" 
                    class="tab-button px-6 py-4 font-semibold whitespace-nowrap rounded-t-lg" 
                    data-tab="blog">
                    <i class="fas fa-blog mr-2"></i>블로그 관리
                </button>
                <button onclick="switchMainTab('workshops')" 
                    class="tab-button px-6 py-4 font-semibold whitespace-nowrap rounded-t-lg" 
                    data-tab="workshops">
                    <i class="fas fa-hands-helping mr-2"></i>워크샵 관리
                </button>
                <button onclick="switchMainTab('classes')" 
                    class="tab-button px-6 py-4 font-semibold whitespace-nowrap rounded-t-lg" 
                    data-tab="classes">
                    <i class="fas fa-chalkboard-teacher mr-2"></i>원데이 클래스
                </button>
                <button onclick="switchMainTab('research')" 
                    class="tab-button px-6 py-4 font-semibold whitespace-nowrap rounded-t-lg" 
                    data-tab="research">
                    <i class="fas fa-flask mr-2"></i>개발 연구소
                </button>
            </div>
        </div>
    </div>

    <!-- Main Content Area -->
    <div class="container mx-auto px-6 py-8">
        
        <!-- Dashboard Section -->
        <div id="section-dashboard" class="content-section">
            <div class="fade-in">
                <h2 class="text-3xl font-bold text-dark-slate mb-6">
                    <i class="fas fa-chart-line text-purple-600 mr-3"></i>대시보드
                </h2>
                
                <!-- Dashboard Sub-Tabs -->
                <div class="mb-6 border-b border-gray-200">
                    <div class="flex space-x-4">
                        <button onclick="switchDashboardTab('overview')" 
                            class="dashboard-tab-button pb-4 px-6 font-semibold text-purple-600 border-b-2 border-purple-600" 
                            data-dashboard-tab="overview">
                            <i class="fas fa-chart-pie mr-2"></i>전체 개요
                        </button>
                        <button onclick="switchDashboardTab('detailed')" 
                            class="dashboard-tab-button pb-4 px-6 font-semibold text-gray-500 border-b-2 border-transparent hover:text-purple-600 hover:border-purple-600 transition" 
                            data-dashboard-tab="detailed">
                            <i class="fas fa-chart-bar mr-2"></i>세부 분석 (B2C/B2B + SNS/O2O)
                        </button>
                    </div>
                </div>
                
                <!-- Overview Tab Content -->
                <div id="dashboard-tab-overview" class="dashboard-tab-content">
                
                <!-- Visitor Stats Row -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                    <div class="bg-gradient-to-br from-purple-500 to-indigo-600 rounded-xl shadow-lg p-6 text-white hover-lift">
                        <div class="flex items-center justify-between">
                            <div class="flex-1">
                                <p class="text-sm text-purple-100 mb-1">오늘 방문자</p>
                                <div class="flex items-baseline gap-2">
                                    <p class="text-4xl font-bold" id="stat-visitors-today">-</p>
                                    <p class="text-sm font-medium" id="stat-visitors-today-change"></p>
                                </div>
                                <p class="text-xs text-purple-200 mt-2">
                                    <i class="fas fa-clock mr-1"></i>자정에 자동 리셋
                                </p>
                                <button onclick="resetVisitorStats('today')" 
                                        class="mt-3 bg-white bg-opacity-20 hover:bg-opacity-30 text-white text-xs px-3 py-1.5 rounded-lg transition">
                                    <i class="fas fa-redo mr-1"></i>오늘 통계 리셋
                                </button>
                            </div>
                            <i class="fas fa-users text-5xl opacity-20"></i>
                        </div>
                    </div>
                    <div class="bg-gradient-to-br from-blue-500 to-cyan-600 rounded-xl shadow-lg p-6 text-white hover-lift">
                        <div class="flex items-center justify-between">
                            <div class="flex-1">
                                <p class="text-sm text-blue-100 mb-1">전체 방문자</p>
                                <p class="text-4xl font-bold" id="stat-visitors-total">-</p>
                                <p class="text-xs text-blue-200 mt-2">
                                    <i class="fas fa-chart-line mr-1"></i>누적 방문 수
                                </p>
                                <button onclick="resetVisitorStats('all')" 
                                        class="mt-3 bg-white bg-opacity-20 hover:bg-opacity-30 text-white text-xs px-3 py-1.5 rounded-lg transition">
                                    <i class="fas fa-trash-alt mr-1"></i>전체 통계 리셋
                                </button>
                            </div>
                            <i class="fas fa-globe text-5xl opacity-20"></i>
                        </div>
                    </div>
                </div>

                <!-- Stats Grid -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                    <div class="bg-white rounded-xl shadow-md p-6 border-l-4 border-purple-600 hover-lift">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm text-gray-600 mb-1">전체 회원</p>
                                <p class="text-3xl font-bold text-purple-600" id="stat-users">-</p>
                            </div>
                            <i class="fas fa-users text-4xl text-purple-600 opacity-20"></i>
                        </div>
                    </div>
                    <div class="bg-white rounded-xl shadow-md p-6 border-l-4 border-pink-600 hover-lift">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm text-gray-600 mb-1">전체 제품</p>
                                <p class="text-3xl font-bold text-pink-600" id="stat-products">-</p>
                            </div>
                            <i class="fas fa-box text-4xl text-pink-600 opacity-20"></i>
                        </div>
                    </div>
                    <div class="bg-white rounded-xl shadow-md p-6 border-l-4 border-blue-500 hover-lift">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm text-gray-600 mb-1">워크샵</p>
                                <p class="text-3xl font-bold text-blue-600" id="stat-workshops">-</p>
                            </div>
                            <i class="fas fa-hands-helping text-4xl text-blue-500 opacity-20"></i>
                        </div>
                    </div>
                    <div class="bg-white rounded-xl shadow-md p-6 border-l-4 border-green-500 hover-lift">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm text-gray-600 mb-1">원데이 클래스</p>
                                <p class="text-3xl font-bold text-green-600" id="stat-classes">-</p>
                            </div>
                            <i class="fas fa-chalkboard-teacher text-4xl text-green-500 opacity-20"></i>
                        </div>
                    </div>
                </div>

                <!-- Charts Row -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
                    <!-- Weekly Visitors Chart -->
                    <div class="bg-white rounded-xl shadow-md p-6">
                        <h3 class="text-xl font-bold text-gray-800 mb-4">
                            <i class="fas fa-chart-area text-purple-600 mr-2"></i>주간 방문자 추이
                        </h3>
                        <canvas id="weeklyVisitorsChart" style="max-height: 250px;"></canvas>
                    </div>
                    
                    <!-- Device Stats -->
                    <div class="bg-white rounded-xl shadow-md p-6">
                        <h3 class="text-xl font-bold text-gray-800 mb-4">
                            <i class="fas fa-mobile-alt text-purple-600 mr-2"></i>디바이스 통계
                        </h3>
                        <canvas id="deviceStatsChart" style="max-height: 250px;"></canvas>
                    </div>
                </div>

                <!-- User Analytics Section in Dashboard -->
                <div class="mb-8">
                    <h3 class="text-2xl font-bold text-gray-800 mb-6">
                        <i class="fas fa-chart-pie text-purple-600 mr-2"></i>회원 통계 분석
                    </h3>
                    
                    <!-- User Type & Stress Type Row -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                        <div class="bg-white rounded-xl shadow-md p-6">
                            <h4 class="text-lg font-semibold text-gray-800 mb-4">
                                <i class="fas fa-users text-blue-500 mr-2"></i>회원 유형 분포
                            </h4>
                            <canvas id="userTypeChart" style="max-height: 200px;"></canvas>
                        </div>
                        
                        <div class="bg-white rounded-xl shadow-md p-6">
                            <h4 class="text-lg font-semibold text-gray-800 mb-4">
                                <i class="fas fa-heartbeat text-purple-500 mr-2"></i>스트레스 유형
                            </h4>
                            <canvas id="stressTypeChart" style="max-height: 200px;"></canvas>
                        </div>
                    </div>
                    
                    <!-- Region & Gender Row -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                        <div class="bg-white rounded-xl shadow-md p-6">
                            <h4 class="text-lg font-semibold text-gray-800 mb-4">
                                <i class="fas fa-map-marker-alt text-red-500 mr-2"></i>지역 분포
                            </h4>
                            <canvas id="regionChart" style="max-height: 200px;"></canvas>
                        </div>
                        
                        <div class="bg-white rounded-xl shadow-md p-6">
                            <h4 class="text-lg font-semibold text-gray-800 mb-4">
                                <i class="fas fa-venus-mars text-pink-500 mr-2"></i>성별 분포
                            </h4>
                            <canvas id="genderChart" style="max-height: 200px;"></canvas>
                        </div>
                    </div>
                    
                    <!-- Monthly Signup Trend -->
                    <div class="grid grid-cols-1 gap-6">
                        <div class="bg-white rounded-xl shadow-md p-6">
                            <h4 class="text-lg font-semibold text-gray-800 mb-4">
                                <i class="fas fa-chart-line text-purple-500 mr-2"></i>월별 가입 추이
                            </h4>
                            <canvas id="monthlySignupChart" style="max-height: 200px;"></canvas>
                        </div>
                    </div>
                </div>
                
                </div><!-- End of Overview Tab -->
                
                <!-- Detailed Analysis Tab Content -->
                <div id="dashboard-tab-detailed" class="dashboard-tab-content" style="display: none;">
                
                <!-- B2C/B2B Detailed Analytics -->
                <div class="mb-8">
                    <h3 class="text-2xl font-bold text-gray-800 mb-6">
                        <i class="fas fa-users text-blue-500 mr-2"></i>B2C/B2B 회원 세부 분류
                    </h3>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6">
                        <!-- Work Stress Chart -->
                        <div class="bg-white rounded-xl shadow-md p-6">
                            <h4 class="text-lg font-semibold text-gray-800 mb-4">
                                <i class="fas fa-briefcase text-indigo-500 mr-2"></i>직무 스트레스 업종별 분포
                            </h4>
                            <canvas id="workStressChartDetailed" style="max-height: 300px;"></canvas>
                        </div>
                        
                        <!-- Daily Stress Chart -->
                        <div class="bg-white rounded-xl shadow-md p-6">
                            <h4 class="text-lg font-semibold text-gray-800 mb-4">
                                <i class="fas fa-home text-teal-500 mr-2"></i>일상 스트레스 상황별 분포
                            </h4>
                            <canvas id="dailyStressChartDetailed" style="max-height: 300px;"></canvas>
                        </div>
                        
                        <!-- Company Size Chart -->
                        <div class="bg-white rounded-xl shadow-md p-6">
                            <h4 class="text-lg font-semibold text-gray-800 mb-4">
                                <i class="fas fa-building text-orange-500 mr-2"></i>기업 규모 (B2B 복지)
                            </h4>
                            <canvas id="companySizeChartDetailed" style="max-height: 300px;"></canvas>
                        </div>
                    </div>
                </div>
                
                <!-- SNS Channel & O2O Conversion Section -->
                <div class="mb-8">
                    <h3 class="text-2xl font-bold text-gray-800 mb-6">
                        <i class="fas fa-share-alt text-purple-600 mr-2"></i>SNS 채널 유입 및 O2O 전환 분석
                    </h3>
                    
                    <!-- SNS Channel Traffic -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                        <div class="bg-white rounded-xl shadow-md p-6">
                            <h4 class="text-lg font-semibold text-gray-800 mb-4">
                                <i class="fas fa-chart-bar text-blue-500 mr-2"></i>SNS 채널별 유입 (최근 30일)
                            </h4>
                            <canvas id="snsChannelChart" style="max-height: 250px;"></canvas>
                        </div>
                        
                        <div class="bg-white rounded-xl shadow-md p-6">
                            <h4 class="text-lg font-semibold text-gray-800 mb-4">
                                <i class="fas fa-mouse-pointer text-green-500 mr-2"></i>SNS 클릭률 (CTR)
                            </h4>
                            <canvas id="snsCTRChart" style="max-height: 250px;"></canvas>
                        </div>
                    </div>
                    
                    <!-- O2O Conversion Metrics -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                        <div class="bg-white rounded-xl shadow-md p-6">
                            <h4 class="text-lg font-semibold text-gray-800 mb-4">
                                <i class="fas fa-store-alt text-orange-500 mr-2"></i>온라인→오프라인 전환 (공방별)
                            </h4>
                            <canvas id="o2oLocationChart" style="max-height: 250px;"></canvas>
                        </div>
                        
                        <div class="bg-white rounded-xl shadow-md p-6">
                            <h4 class="text-lg font-semibold text-gray-800 mb-4">
                                <i class="fas fa-funnel-dollar text-purple-500 mr-2"></i>SNS별 O2O 전환율
                            </h4>
                            <canvas id="o2oConversionRateChart" style="max-height: 250px;"></canvas>
                        </div>
                    </div>
                    
                    <!-- Daily SNS Trend -->
                    <div class="grid grid-cols-1 gap-6">
                        <div class="bg-white rounded-xl shadow-md p-6">
                            <h4 class="text-lg font-semibold text-gray-800 mb-4">
                                <i class="fas fa-chart-area text-indigo-500 mr-2"></i>일별 SNS 유입 추이 (최근 30일)
                            </h4>
                            <canvas id="dailySNSTrendChart" style="max-height: 250px;"></canvas>
                        </div>
                    </div>
                </div>
                
                </div><!-- End of Detailed Tab -->
                
                <!-- Recent Activity Row (shown in both tabs) -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
                    <!-- Recent Users -->
                    <div class="bg-white rounded-xl shadow-md p-6">
                        <h3 class="text-xl font-bold text-gray-800 mb-4">
                            <i class="fas fa-user-plus text-purple-600 mr-2"></i>최근 가입 회원
                        </h3>
                        <div id="recent-users" class="space-y-3">
                            <p class="text-gray-500 text-sm text-center py-4">로딩 중...</p>
                        </div>
                    </div>
                    
                    <!-- Recent Activity -->
                    <div class="bg-white rounded-xl shadow-md p-6">
                        <h3 class="text-xl font-bold text-gray-800 mb-4">
                            <i class="fas fa-history text-purple-600 mr-2"></i>최근 활동 로그
                        </h3>
                        <div id="recent-activity" class="space-y-3">
                            <p class="text-gray-500 text-sm text-center py-4">로딩 중...</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Users Section -->
        <div id="section-users" class="content-section hidden">
            <div class="fade-in">
                <h2 class="text-3xl font-bold text-dark-slate mb-6">
                    <i class="fas fa-users text-purple-600 mr-3"></i>회원 관리
                </h2>

                <!-- Search and Filter -->
                <div class="bg-white rounded-xl shadow-md p-4 mb-6">
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <input type="text" id="user-search" placeholder="이름, 이메일 검색..." 
                            class="px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sage focus:border-transparent">
                        <select id="user-type-filter" 
                            class="px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sage focus:border-transparent">
                            <option value="">전체 회원 유형</option>
                            <option value="B2C">개인 (B2C)</option>
                            <option value="B2B">기업 (B2B)</option>
                        </select>
                        <button onclick="searchUsers()" 
                            class="bg-purple-600 text-white px-6 py-2 rounded-lg hover:opacity-90 transition font-semibold">
                            <i class="fas fa-search mr-2"></i>검색
                        </button>
                    </div>
                </div>

                <!-- Users Table -->
                <div class="bg-white rounded-xl shadow-md overflow-hidden">
                    <div class="overflow-x-auto">
                        <table class="w-full">
                            <thead class="bg-gray-50 border-b">
                                <tr>
                                    <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase">ID</th>
                                    <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase">가입경로</th>
                                    <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase">이름</th>
                                    <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase">이메일</th>
                                    <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase">연락처</th>
                                    <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase">회원유형</th>
                                    <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase">디바이스</th>
                                    <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase">OS/브라우저</th>
                                    <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase">역할</th>
                                    <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase">가입일</th>
                                    <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase">상태</th>
                                </tr>
                            </thead>
                            <tbody id="users-table-body">
                                <tr>
                                    <td colspan="12" class="px-6 py-8 text-center text-gray-500">
                                        <i class="fas fa-spinner fa-spin text-2xl mb-2"></i>
                                        <p>데이터를 불러오는 중...</p>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="px-6 py-4 border-t bg-gray-50">
                        <p class="text-sm text-gray-600">총 <span id="users-total">0</span>명</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Products Section -->
        <div id="section-products" class="content-section hidden">
            <div class="fade-in">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-3xl font-bold text-dark-slate">
                        <i class="fas fa-box text-purple-600 mr-3"></i>제품 관리
                    </h2>
                    <button onclick="openProductModal()" 
                        class="bg-purple-600 text-white px-6 py-3 rounded-lg hover:opacity-90 transition font-semibold">
                        <i class="fas fa-plus mr-2"></i>제품 등록
                    </button>
                </div>

                <!-- Products Grid -->
                <div id="products-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div class="col-span-full text-center py-12 text-gray-500">
                        <i class="fas fa-spinner fa-spin text-2xl mb-2"></i>
                        <p>데이터를 불러오는 중...</p>
                    </div>
                </div>
            </div>
        </div>


        <!-- Blog Section -->
        <div id="section-blog" class="content-section hidden">
            <div class="fade-in">
                <h2 class="text-3xl font-bold text-dark-slate mb-6">
                    <i class="fas fa-blog text-purple-600 mr-3"></i>블로그 댓글 분석 & 관리
                </h2>

                <!-- Stats Overview -->
                <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                    <div class="bg-white rounded-xl shadow-md p-6 border-l-4 border-pink-600 hover-lift">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm text-gray-600 mb-1">총 댓글</p>
                                <p class="text-3xl font-bold text-pink-600" id="blog-stat-comments">0</p>
                            </div>
                            <i class="fas fa-comments text-4xl text-pink-600 opacity-20"></i>
                        </div>
                    </div>
                    <div class="bg-white rounded-xl shadow-md p-6 border-l-4 border-blue-500 hover-lift">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm text-gray-600 mb-1">B2C 사용자</p>
                                <p class="text-3xl font-bold text-blue-600" id="blog-stat-b2c">0</p>
                            </div>
                            <i class="fas fa-user text-4xl text-blue-500 opacity-20"></i>
                        </div>
                    </div>
                    <div class="bg-white rounded-xl shadow-md p-6 border-l-4 border-green-500 hover-lift">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm text-gray-600 mb-1">B2B 사용자</p>
                                <p class="text-3xl font-bold text-green-600" id="blog-stat-b2b">0</p>
                            </div>
                            <i class="fas fa-briefcase text-4xl text-green-500 opacity-20"></i>
                        </div>
                    </div>
                    <div class="bg-white rounded-xl shadow-md p-6 border-l-4 border-orange-500 hover-lift">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm text-gray-600 mb-1">평균 전환율</p>
                                <p class="text-3xl font-bold text-orange-600" id="blog-stat-conversion">0%</p>
                            </div>
                            <i class="fas fa-chart-line text-4xl text-orange-500 opacity-20"></i>
                        </div>
                    </div>
                </div>

                <!-- Sub Tabs -->
                <div class="bg-white rounded-xl shadow-md mb-6">
                    <div class="border-b border-gray-200">
                        <nav class="flex space-x-8 px-6" aria-label="Tabs">
                            <button onclick="switchBlogSubTab('high-leads')" 
                                class="blog-sub-tab-btn border-b-2 border-pink-600 py-4 px-1 text-sm font-medium text-pink-600">
                                <i class="fas fa-star mr-2"></i>고전환율 리드
                            </button>
                            <button onclick="switchBlogSubTab('posts')" 
                                class="blog-sub-tab-btn border-b-2 border-transparent py-4 px-1 text-sm font-medium text-gray-500 hover:text-gray-700">
                                <i class="fas fa-blog mr-2"></i>블로그 포스트
                            </button>
                            <button onclick="switchBlogSubTab('add-post')" 
                                class="blog-sub-tab-btn border-b-2 border-transparent py-4 px-1 text-sm font-medium text-gray-500 hover:text-gray-700">
                                <i class="fas fa-plus mr-2"></i>포스트 추가
                            </button>
                            <button onclick="switchBlogSubTab('add-comment')" 
                                class="blog-sub-tab-btn border-b-2 border-transparent py-4 px-1 text-sm font-medium text-gray-500 hover:text-gray-700">
                                <i class="fas fa-comment-medical mr-2"></i>댓글 추가
                            </button>
                        </nav>
                    </div>
                </div>

                <!-- High Conversion Leads Sub Tab -->
                <div id="blog-high-leads-tab" class="blog-sub-content">
                    <div class="bg-white rounded-xl shadow-md p-6">
                        <div class="flex justify-between items-center mb-6">
                            <h3 class="text-2xl font-bold text-gray-800">
                                <i class="fas fa-bullseye mr-2 text-pink-600"></i>
                                회원가입 유도 대상
                            </h3>
                            <div class="flex items-center space-x-4">
                                <label class="text-sm text-gray-600">최소 전환율:</label>
                                <select id="blog-min-conversion-filter" onchange="loadBlogHighLeads()" 
                                    class="border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-lavender">
                                    <option value="0.5">50%</option>
                                    <option value="0.6" selected>60%</option>
                                    <option value="0.7">70%</option>
                                    <option value="0.8">80%</option>
                                </select>
                            </div>
                        </div>
                        <div id="blog-high-leads-list" class="space-y-4">
                            <div class="text-center py-12 text-gray-500">
                                <i class="fas fa-spinner fa-spin text-4xl mb-4"></i>
                                <p>로딩 중...</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Blog Posts Sub Tab -->
                <div id="blog-posts-tab" class="blog-sub-content hidden">
                    <div class="bg-white rounded-xl shadow-md p-6">
                        <div class="flex justify-between items-center mb-6">
                            <h3 class="text-2xl font-bold text-gray-800">
                                <i class="fas fa-blog mr-2 text-pink-600"></i>
                                등록된 블로그 포스트
                            </h3>
                            <button onclick="crawlAllBlogComments()" id="crawl-all-btn"
                                class="px-6 py-3 bg-gradient-to-r from-lavender to-purple-600 text-white rounded-lg font-semibold hover:shadow-lg transition-all duration-300 flex items-center space-x-2">
                                <i class="fas fa-sync-alt"></i>
                                <span>모든 댓글 수집</span>
                            </button>
                        </div>
                        
                        <!-- Crawling Progress (hidden by default) -->
                        <div id="crawl-progress-container" class="hidden mb-6">
                            <div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded-lg">
                                <div class="flex items-center justify-between mb-2">
                                    <p class="text-sm font-semibold text-blue-800">
                                        <i class="fas fa-spinner fa-spin mr-2"></i>
                                        댓글 수집 중...
                                    </p>
                                    <p class="text-sm text-blue-700" id="crawl-progress-text">0 / 0</p>
                                </div>
                                <div class="w-full bg-blue-200 rounded-full h-4 overflow-hidden">
                                    <div id="crawl-progress-bar" class="bg-blue-600 h-4 transition-all duration-300" style="width: 0%"></div>
                                </div>
                                <p class="text-xs text-blue-600 mt-2" id="crawl-status-text">준비 중...</p>
                            </div>
                        </div>
                        
                        <!-- Crawl Results Summary (hidden by default) -->
                        <div id="crawl-results-container" class="hidden mb-6">
                            <div class="bg-green-50 border-l-4 border-green-500 p-4 rounded-lg">
                                <h4 class="text-sm font-semibold text-green-800 mb-2">
                                    <i class="fas fa-check-circle mr-2"></i>
                                    수집 완료
                                </h4>
                                <div class="grid grid-cols-3 gap-4 text-center">
                                    <div>
                                        <p class="text-2xl font-bold text-green-700" id="crawl-result-total">0</p>
                                        <p class="text-xs text-gray-600">총 댓글</p>
                                    </div>
                                    <div>
                                        <p class="text-2xl font-bold text-blue-600" id="crawl-result-success">0</p>
                                        <p class="text-xs text-gray-600">성공</p>
                                    </div>
                                    <div>
                                        <p class="text-2xl font-bold text-red-600" id="crawl-result-fail">0</p>
                                        <p class="text-xs text-gray-600">실패</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div id="blog-posts-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            <p class="col-span-full text-center text-gray-500 py-12">포스트를 불러오는 중...</p>
                        </div>
                    </div>
                </div>

                <!-- Add Post Sub Tab -->
                <div id="blog-add-post-tab" class="blog-sub-content hidden">
                    <div class="bg-white rounded-xl shadow-md p-6">
                        <h3 class="text-2xl font-bold text-gray-800 mb-6">
                            <i class="fas fa-plus mr-2 text-pink-600"></i>
                            새 블로그 게시물 추가
                        </h3>
                        
                        <div class="bg-blue-50 border-l-4 border-blue-500 p-4 mb-6">
                            <p class="text-sm text-blue-700">
                                <strong>Step 1:</strong> 먼저 네이버 블로그 게시물 URL을 입력하여 게시물을 등록하세요.
                            </p>
                        </div>

                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-2">
                                    블로그 게시물 URL *
                                </label>
                                <input type="url" id="blog-post-url" required
                                    placeholder="예: https://blog.naver.com/aromapulse/223871244762"
                                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-lavender focus:border-transparent">
                            </div>

                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-2">
                                    작성 날짜 (선택)
                                </label>
                                <input type="text" id="blog-post-date"
                                    placeholder="예: 2025-04-29 09:00 (날짜와 시간을 수동 작성)"
                                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-lavender focus:border-transparent">
                                <p class="text-xs text-gray-500 mt-2">
                                    <i class="fas fa-info-circle mr-1"></i>
                                    비워두면 현재 시간으로 설정됩니다. 형식: 2025-04-29 09:00 또는 2025-04-29 (시간 생략 시 현재 시각) 또는 09:00 (오늘 날짜)
                                </p>
                            </div>

                            <div class="flex space-x-3">
                                <button onclick="addBlogPost()" 
                                    class="flex-1 bg-pink-600 text-white px-6 py-3 rounded-lg hover:opacity-90 transition font-semibold">
                                    <i class="fas fa-plus mr-2"></i>게시물 추가
                                </button>
                                <button onclick="resetBlogPostForm()" 
                                    class="px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition font-semibold">
                                    <i class="fas fa-redo mr-2"></i>초기화
                                </button>
                            </div>

                            <p class="text-xs text-gray-500">
                                <i class="fas fa-lightbulb mr-1"></i>
                                게시물 추가 후 "댓글 추가" 탭에서 댓글을 입력할 수 있습니다.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Add Comment Sub Tab -->
                <div id="blog-add-comment-tab" class="blog-sub-content hidden">
                    <div class="bg-white rounded-xl shadow-md p-6">
                        <h3 class="text-2xl font-bold text-gray-800 mb-6">
                            <i class="fas fa-comment-medical mr-2 text-pink-600"></i>
                            수동 댓글 추가
                        </h3>
                        
                        <div class="bg-blue-50 border-l-4 border-blue-500 p-4 mb-6">
                            <p class="text-sm text-blue-700">
                                중요한 댓글을 직접 입력하여 분석하고 관리할 수 있습니다.
                            </p>
                        </div>

                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-2">블로그 게시물 *</label>
                                <select id="comment-post-id" 
                                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-lavender">
                                    <option value="">게시물을 선택하세요</option>
                                </select>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-2">작성자명 *</label>
                                <input type="text" id="comment-author" placeholder="예: 홍길동"
                                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-lavender">
                            </div>
                            
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-2">댓글 내용 *</label>
                                <textarea id="comment-content" rows="4" placeholder="댓글 내용을 입력하세요..."
                                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-lavender"></textarea>
                                <p class="text-xs text-gray-500 mt-2">
                                    <i class="fas fa-robot mr-1"></i>
                                    입력된 댓글은 자동으로 AI 분석됩니다 (감정, 의도, 사용자 타입, 키워드)
                                </p>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-2">작성 날짜 (선택)</label>
                                <input type="text" id="comment-date" placeholder="예: 2025-04-29 09:00"
                                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-lavender">
                                <p class="text-xs text-gray-500 mt-2">
                                    <i class="fas fa-info-circle mr-1"></i>
                                    비워두면 현재 시간으로 설정됩니다.
                                </p>
                            </div>
                            
                            <div class="flex space-x-3">
                                <button onclick="addBlogComment()" 
                                    class="flex-1 bg-pink-600 text-white px-6 py-3 rounded-lg hover:opacity-90 transition font-semibold">
                                    <i class="fas fa-magic mr-2"></i>댓글 추가 및 분석
                                </button>
                                <button onclick="resetBlogCommentForm()" 
                                    class="px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition font-semibold">
                                    <i class="fas fa-redo mr-2"></i>초기화
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Workshops Section -->
        <div id="section-workshops" class="content-section hidden">
            <div class="fade-in">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-3xl font-bold text-dark-slate">
                        <i class="fas fa-hands-helping text-purple-600 mr-3"></i>워크샵 관리
                    </h2>
                    <button onclick="openWorkshopModal()" 
                        class="bg-purple-600 text-white px-6 py-3 rounded-lg hover:opacity-90 transition font-semibold">
                        <i class="fas fa-plus mr-2"></i>워크샵 등록
                    </button>
                </div>

                <!-- Workshops Grid -->
                <div id="workshops-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div class="col-span-full text-center py-12 text-gray-500">
                        <i class="fas fa-spinner fa-spin text-2xl mb-2"></i>
                        <p>데이터를 불러오는 중...</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Classes Section -->
        <div id="section-classes" class="content-section hidden">
            <div class="fade-in">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-3xl font-bold text-dark-slate">
                        <i class="fas fa-chalkboard-teacher text-purple-600 mr-3"></i>원데이 클래스 관리
                    </h2>
                    <button onclick="openClassModal()" 
                        class="bg-purple-600 text-white px-6 py-3 rounded-lg hover:opacity-90 transition font-semibold">
                        <i class="fas fa-plus mr-2"></i>클래스 등록
                    </button>
                </div>

                <!-- Classes Grid -->
                <div id="classes-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div class="col-span-full text-center py-12 text-gray-500">
                        <i class="fas fa-spinner fa-spin text-2xl mb-2"></i>
                        <p>데이터를 불러오는 중...</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Research Lab Section (개발 연구소) -->
        <div id="section-research" class="content-section hidden">
            <div class="fade-in">
                <h2 class="text-3xl font-bold text-dark-slate mb-2">
                    <i class="fas fa-flask text-purple-600 mr-3"></i>개발 연구소
                </h2>
                <p class="text-sm text-gray-500 mb-6">
                    <i class="fas fa-lock mr-1"></i>대표자 및 핵심 팀원 전용 - 회사 고용 및 이직률 분석
                </p>
                
                <!-- HR Analytics Sub-Tabs -->
                <div class="mb-6 border-b border-gray-200">
                    <div class="flex space-x-4 overflow-x-auto">
                        <button onclick="switchResearchTab('employment')" 
                            class="research-tab-button pb-4 px-6 font-semibold text-purple-600 border-b-2 border-purple-600 whitespace-nowrap" 
                            data-research-tab="employment">
                            <i class="fas fa-user-plus mr-2"></i>고용률 분석
                        </button>
                        <button onclick="switchResearchTab('turnover')" 
                            class="research-tab-button pb-4 px-6 font-semibold text-gray-500 border-b-2 border-transparent hover:text-purple-600 hover:border-purple-600 transition whitespace-nowrap" 
                            data-research-tab="turnover">
                            <i class="fas fa-exchange-alt mr-2"></i>이직률 분석
                        </button>
                        <button onclick="switchResearchTab('satisfaction')" 
                            class="research-tab-button pb-4 px-6 font-semibold text-gray-500 border-b-2 border-transparent hover:text-purple-600 hover:border-purple-600 transition whitespace-nowrap" 
                            data-research-tab="satisfaction">
                            <i class="fas fa-smile mr-2"></i>직원 만족도
                        </button>
                        <button onclick="switchResearchTab('performance')" 
                            class="research-tab-button pb-4 px-6 font-semibold text-gray-500 border-b-2 border-transparent hover:text-purple-600 hover:border-purple-600 transition whitespace-nowrap" 
                            data-research-tab="performance">
                            <i class="fas fa-chart-line mr-2"></i>성과 분석
                        </button>
                    </div>
                </div>

                <!-- Employment Rate Tab -->
                <div id="research-tab-employment" class="research-tab-content">
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6">
                        <!-- Stat Cards -->
                        <div class="bg-white rounded-xl shadow-lg p-6 card-enhanced">
                            <div class="flex items-center justify-between mb-4">
                                <div class="bg-gradient-to-br from-green-400 to-green-600 text-white p-3 rounded-lg">
                                    <i class="fas fa-user-check text-2xl"></i>
                                </div>
                                <span class="text-sm font-semibold text-green-600 bg-green-100 px-3 py-1 rounded-full">
                                    +12% <i class="fas fa-arrow-up"></i>
                                </span>
                            </div>
                            <h3 class="text-gray-600 text-sm font-semibold mb-1">현재 고용률</h3>
                            <p class="text-3xl font-bold text-gray-800" id="employment-rate">94.2%</p>
                            <p class="text-xs text-gray-500 mt-2">전년 대비 12% 증가</p>
                        </div>

                        <div class="bg-white rounded-xl shadow-lg p-6 card-enhanced">
                            <div class="flex items-center justify-between mb-4">
                                <div class="bg-gradient-to-br from-blue-400 to-blue-600 text-white p-3 rounded-lg">
                                    <i class="fas fa-users text-2xl"></i>
                                </div>
                                <span class="text-sm font-semibold text-blue-600 bg-blue-100 px-3 py-1 rounded-full">
                                    +8 명
                                </span>
                            </div>
                            <h3 class="text-gray-600 text-sm font-semibold mb-1">총 직원 수</h3>
                            <p class="text-3xl font-bold text-gray-800" id="total-employees">47명</p>
                            <p class="text-xs text-gray-500 mt-2">지난 분기 대비 8명 증가</p>
                        </div>

                        <div class="bg-white rounded-xl shadow-lg p-6 card-enhanced">
                            <div class="flex items-center justify-between mb-4">
                                <div class="bg-gradient-to-br from-purple-400 to-purple-600 text-white p-3 rounded-lg">
                                    <i class="fas fa-calendar-plus text-2xl"></i>
                                </div>
                                <span class="text-sm font-semibold text-purple-600 bg-purple-100 px-3 py-1 rounded-full">
                                    이번 달
                                </span>
                            </div>
                            <h3 class="text-gray-600 text-sm font-semibold mb-1">신규 채용</h3>
                            <p class="text-3xl font-bold text-gray-800" id="new-hires">5명</p>
                            <p class="text-xs text-gray-500 mt-2">지난달 3명 대비 증가</p>
                        </div>
                    </div>

                    <!-- Employment Charts -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <div class="bg-white rounded-xl shadow-lg p-6 card-enhanced">
                            <h3 class="text-xl font-bold text-gray-800 mb-4">
                                <i class="fas fa-chart-line text-purple-600 mr-2"></i>월별 고용 추이
                            </h3>
                            <canvas id="employmentTrendChart"></canvas>
                        </div>

                        <div class="bg-white rounded-xl shadow-lg p-6 card-enhanced">
                            <h3 class="text-xl font-bold text-gray-800 mb-4">
                                <i class="fas fa-chart-pie text-pink-600 mr-2"></i>부서별 인원 분포
                            </h3>
                            <canvas id="departmentDistributionChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Turnover Rate Tab -->
                <div id="research-tab-turnover" class="research-tab-content hidden">
                    <div class="grid grid-cols-1 lg:grid-cols-4 gap-6 mb-6">
                        <!-- Turnover Stat Cards -->
                        <div class="bg-white rounded-xl shadow-lg p-6 card-enhanced">
                            <div class="flex items-center justify-between mb-4">
                                <div class="bg-gradient-to-br from-red-400 to-red-600 text-white p-3 rounded-lg">
                                    <i class="fas fa-user-minus text-2xl"></i>
                                </div>
                                <span class="text-sm font-semibold text-green-600 bg-green-100 px-3 py-1 rounded-full">
                                    -3% <i class="fas fa-arrow-down"></i>
                                </span>
                            </div>
                            <h3 class="text-gray-600 text-sm font-semibold mb-1">연간 이직률</h3>
                            <p class="text-3xl font-bold text-gray-800" id="annual-turnover">8.5%</p>
                            <p class="text-xs text-gray-500 mt-2">전년 대비 3% 감소</p>
                        </div>

                        <div class="bg-white rounded-xl shadow-lg p-6 card-enhanced">
                            <div class="flex items-center justify-between mb-4">
                                <div class="bg-gradient-to-br from-orange-400 to-orange-600 text-white p-3 rounded-lg">
                                    <i class="fas fa-calendar-times text-2xl"></i>
                                </div>
                                <span class="text-sm font-semibold text-orange-600 bg-orange-100 px-3 py-1 rounded-full">
                                    이번 분기
                                </span>
                            </div>
                            <h3 class="text-gray-600 text-sm font-semibold mb-1">분기 이직률</h3>
                            <p class="text-3xl font-bold text-gray-800" id="quarterly-turnover">2.1%</p>
                            <p class="text-xs text-gray-500 mt-2">지난 분기 2.8% 대비 감소</p>
                        </div>

                        <div class="bg-white rounded-xl shadow-lg p-6 card-enhanced">
                            <div class="flex items-center justify-between mb-4">
                                <div class="bg-gradient-to-br from-yellow-400 to-yellow-600 text-white p-3 rounded-lg">
                                    <i class="fas fa-clock text-2xl"></i>
                                </div>
                                <span class="text-sm font-semibold text-blue-600 bg-blue-100 px-3 py-1 rounded-full">
                                    평균
                                </span>
                            </div>
                            <h3 class="text-gray-600 text-sm font-semibold mb-1">평균 재직 기간</h3>
                            <p class="text-3xl font-bold text-gray-800" id="avg-tenure">3.2년</p>
                            <p class="text-xs text-gray-500 mt-2">업계 평균 2.8년</p>
                        </div>

                        <div class="bg-white rounded-xl shadow-lg p-6 card-enhanced">
                            <div class="flex items-center justify-between mb-4">
                                <div class="bg-gradient-to-br from-pink-400 to-pink-600 text-white p-3 rounded-lg">
                                    <i class="fas fa-door-open text-2xl"></i>
                                </div>
                                <span class="text-sm font-semibold text-red-600 bg-red-100 px-3 py-1 rounded-full">
                                    이번 달
                                </span>
                            </div>
                            <h3 class="text-gray-600 text-sm font-semibold mb-1">퇴사자 수</h3>
                            <p class="text-3xl font-bold text-gray-800" id="departures">2명</p>
                            <p class="text-xs text-gray-500 mt-2">지난달 3명 대비 감소</p>
                        </div>
                    </div>

                    <!-- Turnover Charts -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                        <div class="bg-white rounded-xl shadow-lg p-6 card-enhanced">
                            <h3 class="text-xl font-bold text-gray-800 mb-4">
                                <i class="fas fa-chart-area text-red-600 mr-2"></i>월별 이직률 추이
                            </h3>
                            <canvas id="turnoverTrendChart"></canvas>
                        </div>

                        <div class="bg-white rounded-xl shadow-lg p-6 card-enhanced">
                            <h3 class="text-xl font-bold text-gray-800 mb-4">
                                <i class="fas fa-chart-bar text-orange-600 mr-2"></i>부서별 이직률
                            </h3>
                            <canvas id="departmentTurnoverChart"></canvas>
                        </div>
                    </div>

                    <!-- Turnover Reasons Table -->
                    <div class="bg-white rounded-xl shadow-lg p-6 card-enhanced">
                        <h3 class="text-xl font-bold text-gray-800 mb-4">
                            <i class="fas fa-list-ul text-purple-600 mr-2"></i>퇴사 사유 분석 (최근 6개월)
                        </h3>
                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead>
                                    <tr class="border-b-2 border-gray-200">
                                        <th class="text-left py-3 px-4 font-semibold text-gray-700">퇴사 사유</th>
                                        <th class="text-center py-3 px-4 font-semibold text-gray-700">인원</th>
                                        <th class="text-center py-3 px-4 font-semibold text-gray-700">비율</th>
                                        <th class="text-right py-3 px-4 font-semibold text-gray-700">추세</th>
                                    </tr>
                                </thead>
                                <tbody id="turnover-reasons-tbody">
                                    <tr class="border-b hover:bg-gray-50">
                                        <td class="py-3 px-4"><i class="fas fa-briefcase text-blue-500 mr-2"></i>더 나은 기회</td>
                                        <td class="text-center py-3 px-4">8명</td>
                                        <td class="text-center py-3 px-4"><span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-semibold">42%</span></td>
                                        <td class="text-right py-3 px-4"><span class="text-green-600"><i class="fas fa-arrow-down"></i> -5%</span></td>
                                    </tr>
                                    <tr class="border-b hover:bg-gray-50">
                                        <td class="py-3 px-4"><i class="fas fa-map-marker-alt text-purple-500 mr-2"></i>이사/거리</td>
                                        <td class="text-center py-3 px-4">4명</td>
                                        <td class="text-center py-3 px-4"><span class="bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm font-semibold">21%</span></td>
                                        <td class="text-right py-3 px-4"><span class="text-gray-600"><i class="fas fa-minus"></i> 0%</span></td>
                                    </tr>
                                    <tr class="border-b hover:bg-gray-50">
                                        <td class="py-3 px-4"><i class="fas fa-graduation-cap text-green-500 mr-2"></i>학업/자기계발</td>
                                        <td class="text-center py-3 px-4">3명</td>
                                        <td class="text-center py-3 px-4"><span class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-semibold">16%</span></td>
                                        <td class="text-right py-3 px-4"><span class="text-green-600"><i class="fas fa-arrow-down"></i> -3%</span></td>
                                    </tr>
                                    <tr class="border-b hover:bg-gray-50">
                                        <td class="py-3 px-4"><i class="fas fa-user-friends text-orange-500 mr-2"></i>개인 사정</td>
                                        <td class="text-center py-3 px-4">2명</td>
                                        <td class="text-center py-3 px-4"><span class="bg-orange-100 text-orange-800 px-3 py-1 rounded-full text-sm font-semibold">11%</span></td>
                                        <td class="text-right py-3 px-4"><span class="text-gray-600"><i class="fas fa-minus"></i> 0%</span></td>
                                    </tr>
                                    <tr class="hover:bg-gray-50">
                                        <td class="py-3 px-4"><i class="fas fa-times-circle text-red-500 mr-2"></i>기타</td>
                                        <td class="text-center py-3 px-4">2명</td>
                                        <td class="text-center py-3 px-4"><span class="bg-red-100 text-red-800 px-3 py-1 rounded-full text-sm font-semibold">11%</span></td>
                                        <td class="text-right py-3 px-4"><span class="text-red-600"><i class="fas fa-arrow-up"></i> +2%</span></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Employee Satisfaction Tab -->
                <div id="research-tab-satisfaction" class="research-tab-content hidden">
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6">
                        <!-- Satisfaction Stat Cards -->
                        <div class="bg-white rounded-xl shadow-lg p-6 card-enhanced">
                            <div class="flex items-center justify-between mb-4">
                                <div class="bg-gradient-to-br from-green-400 to-green-600 text-white p-3 rounded-lg">
                                    <i class="fas fa-smile-beam text-2xl"></i>
                                </div>
                                <span class="text-sm font-semibold text-green-600 bg-green-100 px-3 py-1 rounded-full">
                                    +8% <i class="fas fa-arrow-up"></i>
                                </span>
                            </div>
                            <h3 class="text-gray-600 text-sm font-semibold mb-1">전체 만족도</h3>
                            <p class="text-3xl font-bold text-gray-800" id="overall-satisfaction">4.3/5.0</p>
                            <p class="text-xs text-gray-500 mt-2">전년 대비 8% 향상</p>
                        </div>

                        <div class="bg-white rounded-xl shadow-lg p-6 card-enhanced">
                            <div class="flex items-center justify-between mb-4">
                                <div class="bg-gradient-to-br from-blue-400 to-blue-600 text-white p-3 rounded-lg">
                                    <i class="fas fa-heart text-2xl"></i>
                                </div>
                                <span class="text-sm font-semibold text-blue-600 bg-blue-100 px-3 py-1 rounded-full">
                                    우수
                                </span>
                            </div>
                            <h3 class="text-gray-600 text-sm font-semibold mb-1">추천 의향 (eNPS)</h3>
                            <p class="text-3xl font-bold text-gray-800" id="enps-score">+42</p>
                            <p class="text-xs text-gray-500 mt-2">업계 평균 +28</p>
                        </div>

                        <div class="bg-white rounded-xl shadow-lg p-6 card-enhanced">
                            <div class="flex items-center justify-between mb-4">
                                <div class="bg-gradient-to-br from-purple-400 to-purple-600 text-white p-3 rounded-lg">
                                    <i class="fas fa-clipboard-check text-2xl"></i>
                                </div>
                                <span class="text-sm font-semibold text-purple-600 bg-purple-100 px-3 py-1 rounded-full">
                                    이번 분기
                                </span>
                            </div>
                            <h3 class="text-gray-600 text-sm font-semibold mb-1">설문 참여율</h3>
                            <p class="text-3xl font-bold text-gray-800" id="survey-participation">89%</p>
                            <p class="text-xs text-gray-500 mt-2">목표 85% 초과 달성</p>
                        </div>
                    </div>

                    <!-- Satisfaction Charts -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                        <div class="bg-white rounded-xl shadow-lg p-6 card-enhanced">
                            <h3 class="text-xl font-bold text-gray-800 mb-4">
                                <i class="fas fa-chart-line text-green-600 mr-2"></i>분기별 만족도 추이
                            </h3>
                            <canvas id="satisfactionTrendChart"></canvas>
                        </div>

                        <div class="bg-white rounded-xl shadow-lg p-6 card-enhanced">
                            <h3 class="text-xl font-bold text-gray-800 mb-4">
                                <i class="fas fa-chart-radar text-blue-600 mr-2"></i>영역별 만족도 (Radar)
                            </h3>
                            <canvas id="satisfactionRadarChart"></canvas>
                        </div>
                    </div>

                    <!-- Satisfaction Categories -->
                    <div class="bg-white rounded-xl shadow-lg p-6 card-enhanced">
                        <h3 class="text-xl font-bold text-gray-800 mb-4">
                            <i class="fas fa-th-list text-purple-600 mr-2"></i>세부 항목별 만족도
                        </h3>
                        <div class="space-y-4" id="satisfaction-categories">
                            <!-- Work-Life Balance -->
                            <div class="border-b pb-4">
                                <div class="flex justify-between items-center mb-2">
                                    <span class="font-semibold text-gray-700"><i class="fas fa-balance-scale text-purple-500 mr-2"></i>워라벨</span>
                                    <span class="text-2xl font-bold text-purple-600">4.5</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-3">
                                    <div class="bg-gradient-to-r from-purple-400 to-purple-600 h-3 rounded-full" style="width: 90%"></div>
                                </div>
                            </div>

                            <!-- Compensation -->
                            <div class="border-b pb-4">
                                <div class="flex justify-between items-center mb-2">
                                    <span class="font-semibold text-gray-700"><i class="fas fa-won-sign text-green-500 mr-2"></i>급여 및 복지</span>
                                    <span class="text-2xl font-bold text-green-600">4.2</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-3">
                                    <div class="bg-gradient-to-r from-green-400 to-green-600 h-3 rounded-full" style="width: 84%"></div>
                                </div>
                            </div>

                            <!-- Growth Opportunities -->
                            <div class="border-b pb-4">
                                <div class="flex justify-between items-center mb-2">
                                    <span class="font-semibold text-gray-700"><i class="fas fa-chart-line text-blue-500 mr-2"></i>성장 기회</span>
                                    <span class="text-2xl font-bold text-blue-600">4.3</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-3">
                                    <div class="bg-gradient-to-r from-blue-400 to-blue-600 h-3 rounded-full" style="width: 86%"></div>
                                </div>
                            </div>

                            <!-- Work Environment -->
                            <div class="border-b pb-4">
                                <div class="flex justify-between items-center mb-2">
                                    <span class="font-semibold text-gray-700"><i class="fas fa-building text-orange-500 mr-2"></i>근무 환경</span>
                                    <span class="text-2xl font-bold text-orange-600">4.6</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-3">
                                    <div class="bg-gradient-to-r from-orange-400 to-orange-600 h-3 rounded-full" style="width: 92%"></div>
                                </div>
                            </div>

                            <!-- Team Culture -->
                            <div class="border-b pb-4">
                                <div class="flex justify-between items-center mb-2">
                                    <span class="font-semibold text-gray-700"><i class="fas fa-users text-pink-500 mr-2"></i>팀 문화</span>
                                    <span class="text-2xl font-bold text-pink-600">4.4</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-3">
                                    <div class="bg-gradient-to-r from-pink-400 to-pink-600 h-3 rounded-full" style="width: 88%"></div>
                                </div>
                            </div>

                            <!-- Leadership -->
                            <div>
                                <div class="flex justify-between items-center mb-2">
                                    <span class="font-semibold text-gray-700"><i class="fas fa-user-tie text-indigo-500 mr-2"></i>리더십</span>
                                    <span class="text-2xl font-bold text-indigo-600">4.1</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-3">
                                    <div class="bg-gradient-to-r from-indigo-400 to-indigo-600 h-3 rounded-full" style="width: 82%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Performance Analysis Tab -->
                <div id="research-tab-performance" class="research-tab-content hidden">
                    <div class="grid grid-cols-1 lg:grid-cols-4 gap-6 mb-6">
                        <!-- Performance Stat Cards -->
                        <div class="bg-white rounded-xl shadow-lg p-6 card-enhanced">
                            <div class="flex items-center justify-between mb-4">
                                <div class="bg-gradient-to-br from-purple-400 to-purple-600 text-white p-3 rounded-lg">
                                    <i class="fas fa-trophy text-2xl"></i>
                                </div>
                                <span class="text-sm font-semibold text-green-600 bg-green-100 px-3 py-1 rounded-full">
                                    +15% <i class="fas fa-arrow-up"></i>
                                </span>
                            </div>
                            <h3 class="text-gray-600 text-sm font-semibold mb-1">평균 성과 점수</h3>
                            <p class="text-3xl font-bold text-gray-800" id="avg-performance">4.2/5.0</p>
                            <p class="text-xs text-gray-500 mt-2">전년 대비 15% 향상</p>
                        </div>

                        <div class="bg-white rounded-xl shadow-lg p-6 card-enhanced">
                            <div class="flex items-center justify-between mb-4">
                                <div class="bg-gradient-to-br from-green-400 to-green-600 text-white p-3 rounded-lg">
                                    <i class="fas fa-star text-2xl"></i>
                                </div>
                                <span class="text-sm font-semibold text-blue-600 bg-blue-100 px-3 py-1 rounded-full">
                                    상위 20%
                                </span>
                            </div>
                            <h3 class="text-gray-600 text-sm font-semibold mb-1">고성과자</h3>
                            <p class="text-3xl font-bold text-gray-800" id="high-performers">9명</p>
                            <p class="text-xs text-gray-500 mt-2">전체 직원의 19%</p>
                        </div>

                        <div class="bg-white rounded-xl shadow-lg p-6 card-enhanced">
                            <div class="flex items-center justify-between mb-4">
                                <div class="bg-gradient-to-br from-blue-400 to-blue-600 text-white p-3 rounded-lg">
                                    <i class="fas fa-chart-line text-2xl"></i>
                                </div>
                                <span class="text-sm font-semibold text-purple-600 bg-purple-100 px-3 py-1 rounded-full">
                                    이번 분기
                                </span>
                            </div>
                            <h3 class="text-gray-600 text-sm font-semibold mb-1">목표 달성률</h3>
                            <p class="text-3xl font-bold text-gray-800" id="goal-achievement">92%</p>
                            <p class="text-xs text-gray-500 mt-2">지난 분기 87%</p>
                        </div>

                        <div class="bg-white rounded-xl shadow-lg p-6 card-enhanced">
                            <div class="flex items-center justify-between mb-4">
                                <div class="bg-gradient-to-br from-pink-400 to-pink-600 text-white p-3 rounded-lg">
                                    <i class="fas fa-graduation-cap text-2xl"></i>
                                </div>
                                <span class="text-sm font-semibold text-green-600 bg-green-100 px-3 py-1 rounded-full">
                                    +25 시간
                                </span>
                            </div>
                            <h3 class="text-gray-600 text-sm font-semibold mb-1">교육 시간</h3>
                            <p class="text-3xl font-bold text-gray-800" id="training-hours">48h</p>
                            <p class="text-xs text-gray-500 mt-2">1인당 평균 분기 기준</p>
                        </div>
                    </div>

                    <!-- Performance Charts -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                        <div class="bg-white rounded-xl shadow-lg p-6 card-enhanced">
                            <h3 class="text-xl font-bold text-gray-800 mb-4">
                                <i class="fas fa-chart-bar text-purple-600 mr-2"></i>성과 분포
                            </h3>
                            <canvas id="performanceDistributionChart"></canvas>
                        </div>

                        <div class="bg-white rounded-xl shadow-lg p-6 card-enhanced">
                            <h3 class="text-xl font-bold text-gray-800 mb-4">
                                <i class="fas fa-chart-line text-blue-600 mr-2"></i>부서별 평균 성과
                            </h3>
                            <canvas id="departmentPerformanceChart"></canvas>
                        </div>
                    </div>

                    <!-- Top Performers Table -->
                    <div class="bg-white rounded-xl shadow-lg p-6 card-enhanced">
                        <h3 class="text-xl font-bold text-gray-800 mb-4">
                            <i class="fas fa-medal text-yellow-500 mr-2"></i>이번 분기 Top 10 고성과자
                        </h3>
                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead>
                                    <tr class="border-b-2 border-gray-200">
                                        <th class="text-left py-3 px-4 font-semibold text-gray-700">순위</th>
                                        <th class="text-left py-3 px-4 font-semibold text-gray-700">이름</th>
                                        <th class="text-left py-3 px-4 font-semibold text-gray-700">부서</th>
                                        <th class="text-center py-3 px-4 font-semibold text-gray-700">성과 점수</th>
                                        <th class="text-center py-3 px-4 font-semibold text-gray-700">목표 달성률</th>
                                        <th class="text-right py-3 px-4 font-semibold text-gray-700">승진 추천</th>
                                    </tr>
                                </thead>
                                <tbody id="top-performers-tbody">
                                    <tr class="border-b hover:bg-gray-50">
                                        <td class="py-3 px-4"><span class="bg-yellow-400 text-white font-bold px-3 py-1 rounded-full">1</span></td>
                                        <td class="py-3 px-4 font-semibold">김민준</td>
                                        <td class="py-3 px-4 text-gray-600">개발팀</td>
                                        <td class="text-center py-3 px-4"><span class="bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm font-bold">4.9</span></td>
                                        <td class="text-center py-3 px-4"><span class="text-green-600 font-semibold">125%</span></td>
                                        <td class="text-right py-3 px-4"><span class="text-green-600"><i class="fas fa-check-circle"></i> 추천</span></td>
                                    </tr>
                                    <tr class="border-b hover:bg-gray-50">
                                        <td class="py-3 px-4"><span class="bg-gray-300 text-white font-bold px-3 py-1 rounded-full">2</span></td>
                                        <td class="py-3 px-4 font-semibold">이서연</td>
                                        <td class="py-3 px-4 text-gray-600">마케팅팀</td>
                                        <td class="text-center py-3 px-4"><span class="bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm font-bold">4.8</span></td>
                                        <td class="text-center py-3 px-4"><span class="text-green-600 font-semibold">118%</span></td>
                                        <td class="text-right py-3 px-4"><span class="text-green-600"><i class="fas fa-check-circle"></i> 추천</span></td>
                                    </tr>
                                    <tr class="border-b hover:bg-gray-50">
                                        <td class="py-3 px-4"><span class="bg-orange-400 text-white font-bold px-3 py-1 rounded-full">3</span></td>
                                        <td class="py-3 px-4 font-semibold">박지훈</td>
                                        <td class="py-3 px-4 text-gray-600">영업팀</td>
                                        <td class="text-center py-3 px-4"><span class="bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm font-bold">4.7</span></td>
                                        <td class="text-center py-3 px-4"><span class="text-green-600 font-semibold">115%</span></td>
                                        <td class="text-right py-3 px-4"><span class="text-green-600"><i class="fas fa-check-circle"></i> 추천</span></td>
                                    </tr>
                                    <tr class="border-b hover:bg-gray-50">
                                        <td class="py-3 px-4"><span class="bg-blue-100 text-blue-800 font-bold px-3 py-1 rounded-full">4</span></td>
                                        <td class="py-3 px-4 font-semibold">최수진</td>
                                        <td class="py-3 px-4 text-gray-600">디자인팀</td>
                                        <td class="text-center py-3 px-4"><span class="bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm font-bold">4.6</span></td>
                                        <td class="text-center py-3 px-4"><span class="text-green-600 font-semibold">112%</span></td>
                                        <td class="text-right py-3 px-4"><span class="text-green-600"><i class="fas fa-check-circle"></i> 추천</span></td>
                                    </tr>
                                    <tr class="border-b hover:bg-gray-50">
                                        <td class="py-3 px-4"><span class="bg-blue-100 text-blue-800 font-bold px-3 py-1 rounded-full">5</span></td>
                                        <td class="py-3 px-4 font-semibold">정우성</td>
                                        <td class="py-3 px-4 text-gray-600">개발팀</td>
                                        <td class="text-center py-3 px-4"><span class="bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm font-bold">4.6</span></td>
                                        <td class="text-center py-3 px-4"><span class="text-green-600 font-semibold">110%</span></td>
                                        <td class="text-right py-3 px-4"><span class="text-blue-600"><i class="fas fa-star"></i> 검토중</span></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <!-- Product Modal -->
    <div id="product-modal" class="hidden fixed inset-0 modal-backdrop z-50 overflow-y-auto">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto">
                <div class="sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center">
                    <h3 class="text-2xl font-bold text-gray-800">
                        <i class="fas fa-box mr-2"></i><span id="product-modal-title">제품 등록</span>
                    </h3>
                    <button onclick="closeProductModal()" class="text-gray-500 hover:text-gray-700">
                        <i class="fas fa-times text-2xl"></i>
                    </button>
                </div>
                <form id="product-form" class="p-6" onsubmit="saveProduct(event)">
                    <input type="hidden" id="product-id">
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">제품명</label>
                            <input type="text" id="product-name" required class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-sage">
                        </div>
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-2">가격 (원)</label>
                                <input type="number" id="product-price" required min="0" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-sage">
                            </div>
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-2">재고</label>
                                <input type="number" id="product-stock" required min="0" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-sage">
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">설명</label>
                            <textarea id="product-description" rows="3" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-sage"></textarea>
                        </div>
                        <div>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" id="product-is-active" checked class="w-5 h-5 text-purple-600 rounded">
                                <span class="text-sm font-semibold text-gray-700">판매중</span>
                            </label>
                        </div>
                    </div>
                    <div class="mt-6 flex space-x-3">
                        <button type="submit" class="flex-1 bg-purple-600 text-white px-6 py-3 rounded-lg hover:opacity-90 font-semibold">
                            <i class="fas fa-save mr-2"></i>저장
                        </button>
                        <button type="button" onclick="closeProductModal()" class="flex-1 bg-gray-300 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-400 font-semibold">
                            <i class="fas fa-times mr-2"></i>취소
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Class Modal -->
    <div id="class-modal" class="hidden fixed inset-0 modal-backdrop z-50 overflow-y-auto">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto">
                <div class="sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center">
                    <h3 class="text-2xl font-bold text-gray-800">
                        <i class="fas fa-chalkboard-teacher mr-2"></i><span id="class-modal-title">클래스 등록</span>
                    </h3>
                    <button onclick="closeClassModal()" class="text-gray-500 hover:text-gray-700">
                        <i class="fas fa-times text-2xl"></i>
                    </button>
                </div>
                <form id="class-form" class="p-6" onsubmit="saveClass(event)">
                    <input type="hidden" id="class-id">
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">클래스명</label>
                            <input type="text" id="class-title" required class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-600">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">설명</label>
                            <textarea id="class-description" rows="3" required class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-600"></textarea>
                        </div>
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-2">가격 (원)</label>
                                <input type="number" id="class-price" required min="0" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-600">
                            </div>
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-2">소요시간 (분)</label>
                                <input type="number" id="class-duration" required min="0" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-600">
                            </div>
                        </div>
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-2">최대 참여자</label>
                                <input type="number" id="class-max-participants" required min="1" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-600">
                            </div>
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-2">지역</label>
                                <input type="text" id="class-location" required class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-600">
                            </div>
                        </div>
                        <div>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" id="class-is-active" checked class="w-5 h-5 text-purple-600 rounded">
                                <span class="text-sm font-semibold text-gray-700">활성</span>
                            </label>
                        </div>
                    </div>
                    <div class="mt-6 flex space-x-3">
                        <button type="submit" class="flex-1 bg-purple-600 text-white px-6 py-3 rounded-lg hover:opacity-90 font-semibold">
                            <i class="fas fa-save mr-2"></i>저장
                        </button>
                        <button type="button" onclick="closeClassModal()" class="flex-1 bg-gray-300 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-400 font-semibold">
                            <i class="fas fa-times mr-2"></i>취소
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Workshop Modal -->
    <div id="workshop-modal" class="hidden fixed inset-0 modal-backdrop z-50 overflow-y-auto">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto">
                <div class="sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center">
                    <h3 class="text-2xl font-bold text-gray-800">
                        <i class="fas fa-hands-helping mr-2"></i><span id="workshop-modal-title">워크샵 등록</span>
                    </h3>
                    <button onclick="closeWorkshopModal()" class="text-gray-500 hover:text-gray-700">
                        <i class="fas fa-times text-2xl"></i>
                    </button>
                </div>
                <form id="workshop-form" class="p-6" onsubmit="saveWorkshop(event)">
                    <input type="hidden" id="workshop-id">
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">워크샵명</label>
                            <input type="text" id="workshop-title" required class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-sage">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">설명</label>
                            <textarea id="workshop-description" rows="3" required class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-sage"></textarea>
                        </div>
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-2">가격 (원)</label>
                                <input type="number" id="workshop-price" required min="0" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-sage">
                            </div>
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-2">소요시간 (분)</label>
                                <input type="number" id="workshop-duration" required min="0" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-sage">
                            </div>
                        </div>
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-2">최대 참여자</label>
                                <input type="number" id="workshop-max-participants" required min="1" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-sage">
                            </div>
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-2">지역</label>
                                <input type="text" id="workshop-location" required class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-sage">
                            </div>
                        </div>
                        <div>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" id="workshop-is-active" checked class="w-5 h-5 text-purple-600 rounded">
                                <span class="text-sm font-semibold text-gray-700">활성</span>
                            </label>
                        </div>
                    </div>
                    <div class="mt-6 flex space-x-3">
                        <button type="submit" class="flex-1 bg-purple-600 text-white px-6 py-3 rounded-lg hover:opacity-90 font-semibold">
                            <i class="fas fa-save mr-2"></i>저장
                        </button>
                        <button type="button" onclick="closeWorkshopModal()" class="flex-1 bg-gray-300 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-400 font-semibold">
                            <i class="fas fa-times mr-2"></i>취소
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Research Lab Password Modal -->
    <div id="researchPasswordModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50" style="display: none;">
        <div class="bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 transform transition-all">
            <div class="bg-gradient-to-r from-purple-600 to-purple-700 text-white px-6 py-4 rounded-t-2xl">
                <h3 class="text-xl font-bold flex items-center">
                    <i class="fas fa-lock mr-3"></i>개발 연구소 접근 인증
                </h3>
                <p class="text-sm text-purple-100 mt-1">대표자 및 핵심 팀원 전용</p>
            </div>
            <div class="p-6">
                <div class="mb-6">
                    <div class="bg-purple-50 border-l-4 border-purple-600 p-4 rounded-r-lg mb-4">
                        <p class="text-sm text-purple-800">
                            <i class="fas fa-info-circle mr-2"></i>
                            이 섹션은 회사의 민감한 HR 데이터를 포함하고 있습니다.
                        </p>
                    </div>
                    <label for="researchPassword" class="block text-sm font-semibold text-gray-700 mb-2">
                        비밀번호 입력
                    </label>
                    <input 
                        type="password" 
                        id="researchPassword" 
                        placeholder="비밀번호를 입력하세요"
                        class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-purple-600 transition"
                        onkeypress="if(event.key === 'Enter') verifyResearchPassword()"
                    >
                    <div id="researchPasswordError" class="hidden mt-2 text-sm text-red-600 flex items-center">
                        <i class="fas fa-exclamation-circle mr-2"></i>
                        <span id="researchPasswordErrorText"></span>
                    </div>
                    <div id="researchPasswordSuccess" class="hidden mt-2 text-sm text-green-600 flex items-center">
                        <i class="fas fa-check-circle mr-2"></i>
                        <span>인증 성공! 페이지로 이동합니다...</span>
                    </div>
                </div>
                <div class="flex space-x-3">
                    <button 
                        type="button" 
                        onclick="verifyResearchPassword()" 
                        id="verifyResearchBtn"
                        class="flex-1 bg-purple-600 text-white px-6 py-3 rounded-lg hover:opacity-90 font-semibold transition flex items-center justify-center">
                        <i class="fas fa-unlock mr-2"></i>인증하기
                    </button>
                    <button 
                        type="button" 
                        onclick="closeResearchPasswordModal()" 
                        class="flex-1 bg-gray-300 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-400 font-semibold transition flex items-center justify-center">
                        <i class="fas fa-times mr-2"></i>취소
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Main JavaScript -->
    <script src="/static/admin-dashboard.js?v=20251119080"></script>
    <!-- Class Modal Fixed: v20251119080 -->
</body>
</html>
